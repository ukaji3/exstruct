# v0.4.0 Release Notes

This release introduces MCP server support for ExStruct, enabling agent tool
integration with a stdio server, plus new extraction utilities, policies, and
expanded tests and documentation.

## Highlights

- Added MCP stdio server (`exstruct-mcp`) with tools:
  - `exstruct_extract`
  - `exstruct_read_json_chunk` (cursor + filters for large outputs)
  - `exstruct_validate_input` (pre-checks for files and COM availability)
- Introduced MCP path policy (allowlist + deny globs), output conflict handling
  (`--on-conflict`), and optional warmup for latency reduction.
- Added typed extraction options for MCP runs (pretty/indent and side outputs),
  and clarified file validation errors.
- Improved openpyxl border scanning (deferred column shrink) for late-table
  detection; added backend selection for border clustering.
- Documentation updates for MCP setup and agent configuration (site nav and
  README updates), plus expanded tests and CI dependency installation.

## Notes

- MCP dependencies are optional: install with `pip install exstruct[mcp]`.
- `read_json_chunk` enforces file paths and chunk size limits; use `sheet`/
  `filter` when outputs are large.
